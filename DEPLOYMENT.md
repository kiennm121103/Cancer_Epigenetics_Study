# Deploying Shiny App to GitHub Pages & Quarto

This guide covers two deployment methods for your Penguin Data Analysis app.

---

## Method 1: GitHub Pages with Shinylive Export

### Step 1: Export App to Static Files

Run in R terminal:
```r
library(shinylive)

# Export your app
shinylive::export(
  appdir = "deploy_app",
  destdir = "docs"
)
```

This creates a `docs/` folder with static HTML/JS files.

### Step 2: Initialize Git Repository

```bash
cd /home/kiennm/Cancer_Epigenetics_Study

# Initialize git
git init

# Add files
git add .gitignore
git add docs/
git add deploy_app/
git add README.md

# Commit
git commit -m "Initial commit: Penguin Shiny app with Shinylive"
```

### Step 3: Create GitHub Repository

1. Go to https://github.com/new
2. Create a new repository (e.g., "penguin-analysis")
3. **Don't** initialize with README (we already have files)

### Step 4: Push to GitHub

```bash
# Add remote (replace with your username)
git remote add origin https://github.com/YOUR_USERNAME/penguin-analysis.git

# Push
git branch -M main
git push -u origin main
```

### Step 5: Enable GitHub Pages

1. Go to your repo on GitHub
2. Click **Settings** → **Pages**
3. Under **Source**, select:
   - Branch: `main`
   - Folder: `/docs`
4. Click **Save**

Your app will be live at: `https://YOUR_USERNAME.github.io/penguin-analysis/`

---

## Method 2: Embed in Quarto Website

### Step 1: Install Quarto

Download from: https://quarto.org/docs/get-started/

Or on Ubuntu:
```bash
sudo apt install quarto
```

### Step 2: Install Quarto Shinylive Extension

```bash
cd /home/kiennm/Cancer_Epigenetics_Study
quarto add quarto-ext/shinylive
```

### Step 3: Render Quarto Document

The `penguins-app.qmd` file is already created. Render it:

```bash
quarto render penguins-app.qmd
```

This creates `penguins-app.html` with the embedded Shinylive app!

### Step 4: Create Quarto Website (Optional)

**Create `_quarto.yml`:**
```yaml
project:
  type: website
  output-dir: docs

website:
  title: "Cancer Epigenetics Study"
  navbar:
    left:
      - href: index.qmd
        text: Home
      - href: penguins-app.qmd
        text: Penguin Analysis
      - href: about.qmd
        text: About

format:
  html:
    theme: cosmo
    css: styles.css
    toc: true

filters:
  - shinylive
```

**Create `index.qmd`:**
```markdown
---
title: "Cancer Epigenetics Study"
---

## Welcome

This website contains interactive data analysis tools for cancer epigenetics research.

### Apps

- [Penguin Data Explorer](penguins-app.html) - Interactive visualization tool
```

**Render entire site:**
```bash
quarto render
```

**Preview locally:**
```bash
quarto preview
```

### Step 5: Deploy Quarto Site to GitHub Pages

```bash
# After rendering (creates docs/ folder)
git add .
git commit -m "Add Quarto website with Shinylive apps"
git push

# Enable GitHub Pages (Settings → Pages → source: main → /docs)
```

---

## Quick Commands Reference

### Export Shinylive App
```r
library(shinylive)
shinylive::export("deploy_app", "docs")
```

### Render Quarto Document
```bash
quarto render penguins-app.qmd
```

### Preview Quarto Site
```bash
quarto preview
```

### Git Workflow
```bash
git add .
git commit -m "Update app"
git push
```

---

## Troubleshooting

### Quarto Extension Not Found
```bash
quarto add quarto-ext/shinylive --no-prompt
```

### App Not Loading on GitHub Pages
1. Check that `docs/` folder is committed
2. Verify GitHub Pages settings point to `/docs`
3. Wait 2-3 minutes for deployment
4. Check browser console for errors

### Shinylive Code Not Running
1. Ensure you have the `filters: - shinylive` in YAML header
2. Use `{shinylive-r}` not `{r}`
3. Install shinylive extension: `quarto add quarto-ext/shinylive`

---

## File Structure After Deployment

```
Cancer_Epigenetics_Study/
├── .gitignore
├── README.md
├── DEPLOYMENT.md              # This file
├── deploy_app/
│   └── app.R                  # Original Shiny app
├── docs/                      # Generated by shinylive export
│   ├── index.html
│   ├── shinylive/
│   └── ...
├── penguins-app.qmd          # Quarto doc with embedded app
├── penguins-app.html         # Rendered output
└── _quarto.yml               # Optional: website config
```

---

## Next Steps

1. **Export your app**: Run the R command above
2. **Initialize git**: Run the bash commands
3. **Create GitHub repo**: Follow Step 3
4. **Push and enable Pages**: Follow Steps 4-5
5. **Share your URL**: `https://YOUR_USERNAME.github.io/penguin-analysis/`

---

## Resources

- [Shinylive Documentation](https://posit-dev.github.io/r-shinylive/)
- [Quarto Shinylive Extension](https://github.com/quarto-ext/shinylive)
- [GitHub Pages Guide](https://docs.github.com/en/pages)
- [Quarto Websites](https://quarto.org/docs/websites/)
